# Comparing `tmp/chesstothedeath-0.1.0-py3-none-any.whl.zip` & `tmp/chesstothedeath-0.1.1-py3-none-any.whl.zip`

## zipinfo {}

```diff
@@ -1,12 +1,12 @@
-Zip file size: 706037 bytes, number of entries: 34
--rw-r--r--  2.0 fat      216 b- defN 23-Mar-13 12:03 chess_to_the_death/__init__.py
+Zip file size: 706286 bytes, number of entries: 34
+-rw-r--r--  2.0 fat      216 b- defN 23-Apr-09 10:14 chess_to_the_death/__init__.py
 -rw-r--r--  2.0 fat      258 b- defN 23-Mar-11 15:50 chess_to_the_death/__main__.py
 -rw-r--r--  2.0 fat        0 b- defN 22-Dec-16 20:10 chess_to_the_death/entity/__init__.py
--rw-r--r--  2.0 fat     7426 b- defN 23-Feb-05 22:31 chess_to_the_death/entity/pieces.py
+-rw-r--r--  2.0 fat     7426 b- defN 23-Apr-09 00:46 chess_to_the_death/entity/pieces.py
 -rw-r--r--  2.0 fat      101 b- defN 22-Dec-16 20:10 chess_to_the_death/entity/player.py
 -rw-r--r--  2.0 fat    42387 b- defN 22-Dec-16 20:10 chess_to_the_death/images/blackb.png
 -rw-r--r--  2.0 fat    52473 b- defN 22-Dec-16 20:10 chess_to_the_death/images/blackk.png
 -rw-r--r--  2.0 fat    54531 b- defN 22-Dec-16 20:10 chess_to_the_death/images/blackn.png
 -rw-r--r--  2.0 fat    27961 b- defN 22-Dec-16 20:10 chess_to_the_death/images/blackp.png
 -rw-r--r--  2.0 fat    64971 b- defN 22-Dec-16 20:10 chess_to_the_death/images/blackq.png
 -rw-r--r--  2.0 fat    19552 b- defN 22-Dec-16 20:10 chess_to_the_death/images/blackr.png
@@ -17,20 +17,20 @@
 -rw-r--r--  2.0 fat    59124 b- defN 22-Dec-16 20:10 chess_to_the_death/images/whitep.png
 -rw-r--r--  2.0 fat   103071 b- defN 22-Dec-16 20:10 chess_to_the_death/images/whiteq.png
 -rw-r--r--  2.0 fat    34402 b- defN 22-Dec-16 20:10 chess_to_the_death/images/whiter.png
 -rw-r--r--  2.0 fat        0 b- defN 22-Dec-16 20:10 chess_to_the_death/parser/__init__.py
 -rw-r--r--  2.0 fat     3703 b- defN 23-Mar-13 12:02 chess_to_the_death/parser/argparser.py
 -rw-r--r--  2.0 fat        0 b- defN 22-Dec-16 20:10 chess_to_the_death/util/__init__.py
 -rw-r--r--  2.0 fat     2253 b- defN 23-Feb-12 12:01 chess_to_the_death/util/action.py
--rw-r--r--  2.0 fat     3655 b- defN 23-Mar-13 00:29 chess_to_the_death/util/config.py
+-rw-r--r--  2.0 fat     3531 b- defN 23-Apr-09 01:08 chess_to_the_death/util/config.py
 -rw-r--r--  2.0 fat     1382 b- defN 23-Mar-11 15:42 chess_to_the_death/util/definition.py
--rw-r--r--  2.0 fat    30817 b- defN 23-Mar-13 00:10 chess_to_the_death/util/engine.py
+-rw-r--r--  2.0 fat    31823 b- defN 23-Apr-09 01:08 chess_to_the_death/util/engine.py
 -rw-r--r--  2.0 fat      467 b- defN 23-Jan-03 23:12 chess_to_the_death/util/fpsClock.py
--rw-r--r--  2.0 fat    37495 b- defN 23-Mar-11 16:20 chess_to_the_death/util/gui.py
+-rw-r--r--  2.0 fat    37550 b- defN 23-Apr-09 00:46 chess_to_the_death/util/gui.py
 -rw-r--r--  2.0 fat      912 b- defN 23-Jan-03 23:13 chess_to_the_death/util/loader.py
--rw-r--r--  2.0 fat     3517 b- defN 23-Feb-18 18:38 chess_to_the_death/web/UpdateChecker.py
+-rw-r--r--  2.0 fat     3598 b- defN 23-Mar-26 12:39 chess_to_the_death/web/UpdateChecker.py
 -rw-r--r--  2.0 fat        0 b- defN 22-Nov-27 20:57 chess_to_the_death/web/__init__.py
--rw-r--r--  2.0 fat     1090 b- defN 22-Dec-16 20:10 chesstothedeath-0.1.0.dist-info/LICENSE
-?rw-r--r--  2.0 fat       81 b- defN 16-Jan-01 00:00 chesstothedeath-0.1.0.dist-info/WHEEL
-?rw-r--r--  2.0 fat     6639 b- defN 16-Jan-01 00:00 chesstothedeath-0.1.0.dist-info/METADATA
-?rw-r--r--  2.0 fat     3087 b- defN 16-Jan-01 00:00 chesstothedeath-0.1.0.dist-info/RECORD
-34 files, 822503 bytes uncompressed, 701019 bytes compressed:  14.8%
+-rw-r--r--  2.0 fat     1090 b- defN 22-Dec-16 20:10 chesstothedeath-0.1.1.dist-info/LICENSE
+?rw-r--r--  2.0 fat       81 b- defN 16-Jan-01 00:00 chesstothedeath-0.1.1.dist-info/WHEEL
+?rw-r--r--  2.0 fat     6607 b- defN 16-Jan-01 00:00 chesstothedeath-0.1.1.dist-info/METADATA
+?rw-r--r--  2.0 fat     3087 b- defN 16-Jan-01 00:00 chesstothedeath-0.1.1.dist-info/RECORD
+34 files, 823489 bytes uncompressed, 701268 bytes compressed:  14.8%
```

## zipnote {}

```diff
@@ -84,20 +84,20 @@
 
 Filename: chess_to_the_death/web/UpdateChecker.py
 Comment: 
 
 Filename: chess_to_the_death/web/__init__.py
 Comment: 
 
-Filename: chesstothedeath-0.1.0.dist-info/LICENSE
+Filename: chesstothedeath-0.1.1.dist-info/LICENSE
 Comment: 
 
-Filename: chesstothedeath-0.1.0.dist-info/WHEEL
+Filename: chesstothedeath-0.1.1.dist-info/WHEEL
 Comment: 
 
-Filename: chesstothedeath-0.1.0.dist-info/METADATA
+Filename: chesstothedeath-0.1.1.dist-info/METADATA
 Comment: 
 
-Filename: chesstothedeath-0.1.0.dist-info/RECORD
+Filename: chesstothedeath-0.1.1.dist-info/RECORD
 Comment: 
 
 Zip file comment:
```

## chess_to_the_death/__init__.py

```diff
@@ -1,5 +1,5 @@
 """A simple chess variant where pieces have damage and health values."""
 
-__version__ = "0.1.0"
+__version__ = "0.1.1"
 __sysversion__ = '3.11.0 (main, Oct 24 2022, 18:26:48) [MSC v.1933 64 bit (AMD64)]'
 __author__ = 'Silas A. Kraume'
```

## chess_to_the_death/util/config.py

```diff
@@ -45,15 +45,14 @@
     rowLenMap = map(len, tempBoard)
     maxRowLength = max(rowLenMap)
     # if the requested position has an inhomogeneous shape
     if len(set(rowLenMap)) != 1:
         tempBoard = [row + [0] * (maxRowLength-len(row)) for row in tempBoard]
     board = np.asarray(tempBoard, dtype=boardDtype)
     DIMENSION = board.shape
-    assert np.count_nonzero(board == 6) == np.count_nonzero(board == -6) == 1, "There can only be one King to each color!"
     if len(whiteSpaceSplit) >= 2:
         if whiteSpaceSplit[1].upper() == "B":
             BLACKS_TURN = True
     possiblePieceOptions = [attr for attr in dir(PieceChar) if not callable(getattr(PieceChar, attr)) and not attr.startswith("__")]
     # the options to promote/crazyplace a piece will not fit if the board height is less than 4, or
     # the crazyoptions exceed the board height. We subtract UNDEFINED, OBSTACLE, and KING, because we cannot crazyplace these.
     if DIMENSION[0] < 4 or (isCrazyMode and DIMENSION[0] < len(possiblePieceOptions)-3):
```

## chess_to_the_death/util/engine.py

```diff
@@ -134,14 +134,28 @@
             # if not the default variant is palyed, print the statistics
             # about piece health/damage values.
             printValueStatistic(self.health_damage_dict)
         if config.BLACKS_TURN:
             self.nextTurn(False)
         self.createBoard()
         print(self.__repr__())
+        
+        self.player_turn = not self.player_turn
+        if (self.default and self.isCellAttacked(self.king_pieces[self.player_turn].getPos())) or \
+             not (np.count_nonzero(self.board == pieceTranslateDic[PieceChar.KING]) == np.count_nonzero(self.board == -pieceTranslateDic[PieceChar.KING]) == 1):
+            print('\x1b[31mCannot load position because it is invalid. Every position must have exactly one king of each color, and the side to move must not be able to capture the enemy king.\x1b[0m')
+            from sys import exit as sysexit
+            sysexit(1)
+        currentOutcome = self.playerWon()
+        if currentOutcome != Outcome.NONE:
+            print('\x1b[31mCannot load position because it has already reached a finished state:\x1b[0m')
+            print('\x1b[31m', currentOutcome, '\x1b[0m', sep='')
+            from sys import exit as sysexit
+            sysexit(1)
+        self.player_turn = not self.player_turn
 
     def translateActionRepr(self, actionRepr: Action) -> list:
         """
         Takes an action-object and reverts it to row and column numbers.
         Returns a list with original starting and target position tuple.
         Depends on current board flip!
         """
@@ -396,15 +410,16 @@
         # switch back to actual player
         self.player_turn = not self.player_turn
         return outcome
     
     def gameIsDraw(self):
         outcome = Outcome.NONE
         #by repitition
-        if np.all(self.action_log.boards[-1] == self.action_log.boards, axis=(-1,1)).sum() == 3:
+
+        if len(self.action_log.boards) and np.all(self.action_log.boards[-1] == self.action_log.boards, axis=(-1,1)).sum() == 3:
             outcome = Outcome.DRAW_REPITITION
         
         if self.crazy:
             return outcome
         
         #insufficient material
         if len(self.pieces) <= 4:
```

## chess_to_the_death/util/gui.py

```diff
@@ -355,21 +355,21 @@
 def drawWinner(mainScreen: pygame.Surface) -> None:
     """
     If a player has won this function will display the win-message
     on the 'mainScreen'
     """
     if not holder.winner:
         return
-    font = pygame.font.SysFont("Verdana", int(64 * ((min(CELL_SIZE)/128))))
+    font = pygame.font.SysFont("Verdana", int(8 * config.DIMENSION[1] * CELL_SIZE[0] / (6 * len(holder.winner))))
     text = font.render(holder.winner, True, COLORS[6])
     text_size = (text.get_width(), text.get_height())
     text_location = pygame.Rect(BOARD_SIZE[0] // 2 - text_size[0] // 2,
                                 BOARD_SIZE[1] // 2 - text_size[1] // 2, *text_size)
     pygame.display.update(mainScreen.blit(text, text_location))
-    font = pygame.font.SysFont("Verdana", int(32 * ((min(CELL_SIZE)/128))))
+    font = pygame.font.SysFont("Verdana", int(8 * config.DIMENSION[1] * CELL_SIZE[0] / 128))
     text = font.render("Play Again (R)", True, COLORS[7])
     text_location = pygame.Rect(BOARD_SIZE[0] // 2 - text.get_width() // 2,
                                 BOARD_SIZE[1] // 2 + text_size[1] // 2,
                                 text.get_width(), text.get_height())
     pygame.display.update(mainScreen.blit(text, text_location))
 
 
@@ -718,15 +718,15 @@
                         # render all optional actions and re-render all option actions from the previous selection
                         for cell in options_move_old + options_attack_old + holder.options_move + holder.options_attack:
                             drawGameCell(mainScreen, gameState, cell)
                         if piece:  # render new position
                             drawGameCell(mainScreen, gameState, piece.getPos())
                         if piece_old:  # re-render old position
                             drawGameCell(mainScreen, gameState, piece_old.getPos())
-                    # if there already is a piece selected and now we clicked an empty piece or an empty cell
+                    # if there already is a piece selected and now we clicked an enemy piece or an empty cell
                     elif holder.selectedPiece:
                         # backup old piece and action options, for later re-rendering
                         piece_old = holder.selectedPiece
                         options_move_old, options_attack_old = holder.options_move, holder.options_attack
                         piecePos_old = piece_old.getPos()
 
                         # take the action, this will return the type of action taken or if the game is finished or
```

## chess_to_the_death/web/UpdateChecker.py

```diff
@@ -1,8 +1,9 @@
-from requests import get as getRequest
+from urllib.request import urlopen
+from json import loads as loadJSON
 
 
 # UNSAFE:
 # UPDATE MAY INCLUDE FUNDAMENTAL CHANGES
 # recognized by a higher version number in earlier position
 # !.!._
 # SAFE:
@@ -17,18 +18,19 @@
 
 def printCode(*code: str) -> None:
     print("\x1b[" + "\x1b[".join(code), end="")
     
 
 def getLastestPackageVersion(package: str) -> str:
     try:
-        response = getRequest(f'https://pypi.org/pypi/{package}/json', timeout=2)
-        return response.json()['info']['version']
+        with urlopen(f"https://pypi.org/pypi/{package}/json", timeout=2) as _response:
+            response = _response.read()
+        return loadJSON(response)['info']['version']
     except:
-        return "0.0.0"
+        return '0.0.0'
 
 
 def onlyNumeric(s: str) -> int:
     return int('0' + ''.join(filter(str.isdigit, s)))
 
 
 def genVersionTuples(v: str, w: str) -> tuple:
```

## Comparing `chesstothedeath-0.1.0.dist-info/LICENSE` & `chesstothedeath-0.1.1.dist-info/LICENSE`

 * *Files identical despite different names*

## Comparing `chesstothedeath-0.1.0.dist-info/METADATA` & `chesstothedeath-0.1.1.dist-info/METADATA`

 * *Files 3% similar despite different names*

```diff
@@ -1,21 +1,20 @@
 Metadata-Version: 2.1
 Name: ChessToTheDeath
-Version: 0.1.0
+Version: 0.1.1
 Summary: A simple chess variant where pieces have damage and health values.
 Keywords: python,chess,pygame
 Author-email: "Silas A. Kraume" <silas.kraume1552@gmail.com>
 Requires-Python: >=3.7
 Description-Content-Type: text/markdown
 Classifier: License :: OSI Approved :: MIT License
 Classifier: Programming Language :: Python :: 3
 Classifier: Operating System :: OS Independent
 Requires-Dist: numpy>=1.22.0
 Requires-Dist: pygame>=2.0.0
-Requires-Dist: requests>=2.26.0
 Project-URL: Download, https://github.com/SilenZcience/ChessToTheDeath/tarball/master
 Project-URL: Github, https://github.com/SilenZcience/ChessToTheDeath
 Project-URL: Tracker, https://github.com/SilenZcience/ChessToTheDeath/issues
 
 <div id="top"></div>
 
 <p>
```

### html2text {}

```diff
@@ -1,18 +1,17 @@
-Metadata-Version: 2.1 Name: ChessToTheDeath Version: 0.1.0 Summary: A simple
+Metadata-Version: 2.1 Name: ChessToTheDeath Version: 0.1.1 Summary: A simple
 chess variant where pieces have damage and health values. Keywords:
 python,chess,pygame Author-email: "Silas A. Kraume"
 kraume1552@gmail.com> Requires-Python: >=3.7 Description-Content-Type: text/
 markdown Classifier: License :: OSI Approved :: MIT License Classifier:
 Programming Language :: Python :: 3 Classifier: Operating System :: OS
-Independent Requires-Dist: numpy>=1.22.0 Requires-Dist: pygame>=2.0.0 Requires-
-Dist: requests>=2.26.0 Project-URL: Download, https://github.com/SilenZcience/
-ChessToTheDeath/tarball/master Project-URL: Github, https://github.com/
-SilenZcience/ChessToTheDeath Project-URL: Tracker, https://github.com/
-SilenZcience/ChessToTheDeath/issues
+Independent Requires-Dist: numpy>=1.22.0 Requires-Dist: pygame>=2.0.0 Project-
+URL: Download, https://github.com/SilenZcience/ChessToTheDeath/tarball/master
+Project-URL: Github, https://github.com/SilenZcience/ChessToTheDeath Project-
+URL: Tracker, https://github.com/SilenZcience/ChessToTheDeath/issues
 [https://static.pepy.tech/personalized-badge/
 chesstothedeath?period=total&units=international_system&left_color=grey&right_color=orange&left_text=Downloads]
 [https://hits.seeyoufarm.com/api/count/incr/
 badge.svg?url=https%3A%2F%2Fgithub.com%2FSilenZcience%2FChessToTheDeath&count_bg=%2379C83D&title_bg=%23555555&icon=&icon_color=%23E7E7E7&title=Visitors&edge_flat=false]
 [![OS-Windows]][OS-Windows] [![OS-Linux]][OS-Linux] [![OS-MacOS]][OS-MacOS]
                           ***** ChessToTheDeath *****
       A simple chess variant where pieces have damage and health values.
```

## Comparing `chesstothedeath-0.1.0.dist-info/RECORD` & `chesstothedeath-0.1.1.dist-info/RECORD`

 * *Files 5% similar despite different names*

```diff
@@ -1,8 +1,8 @@
-chess_to_the_death/__init__.py,sha256=6K7_ffSoSwaAbVFoIw5tEWfUMxUNDRcV_8hjYc6X3VM,216
+chess_to_the_death/__init__.py,sha256=65GCmX2FDbDhn1DgbBQ1fnS622-hCVM6ZLu2OKggXWc,216
 chess_to_the_death/__main__.py,sha256=NEYt_MFAWRxQBF-1M85X62WB9i5OmJ-v5YB3HPhUS1E,258
 chess_to_the_death/entity/__init__.py,sha256=47DEQpj8HBSa-_TImW-5JCeuQeRkm5NMpJWZG3hSuFU,0
 chess_to_the_death/entity/pieces.py,sha256=5u2TRwlRtxZ5qeMyGJcsYiy3NnTpa3ILUIDHI_N3Ukk,7426
 chess_to_the_death/entity/player.py,sha256=E_wQvxQTtbofArCfjwtcXwCF8X_u6zMt2RKJo6IqiLI,101
 chess_to_the_death/images/blackb.png,sha256=mU7I84UKw9XjuPAKfcwRTYzySqsEEQWo1rO4jDY-PkA,42387
 chess_to_the_death/images/blackk.png,sha256=78_0zepyXyK96wpBUk6Aom13W9SNEI8HVOq43aFoXMs,52473
 chess_to_the_death/images/blackn.png,sha256=YOmNkDLDlxlN2Z9eMeyYIlh_CV0A2CA2953b18E95TI,54531
@@ -16,19 +16,19 @@
 chess_to_the_death/images/whitep.png,sha256=90BlgkZi5DW3UPTTQtmGD59_W-bJ8BwcNjDOhc5eEzY,59124
 chess_to_the_death/images/whiteq.png,sha256=NCOA0GGHkUNEJRliiPTB0PUMEeUekqDWIdtzBbZwiAY,103071
 chess_to_the_death/images/whiter.png,sha256=wEeEBkWZJBGH-fzMJ5C-iPwxmXQgXZMmjEMMU9P4_Cw,34402
 chess_to_the_death/parser/__init__.py,sha256=47DEQpj8HBSa-_TImW-5JCeuQeRkm5NMpJWZG3hSuFU,0
 chess_to_the_death/parser/argparser.py,sha256=5A3Tmnd73jhCm44EII8zf37XPSVGTImep0qOwxa6qYM,3703
 chess_to_the_death/util/__init__.py,sha256=47DEQpj8HBSa-_TImW-5JCeuQeRkm5NMpJWZG3hSuFU,0
 chess_to_the_death/util/action.py,sha256=gjszsryK_l02zbuc2esqO3dDe6ZsB9H2go2C1sFzVk0,2253
-chess_to_the_death/util/config.py,sha256=dljXZqrGlk3Z6dQf_8NUQv168Zu7zCVtC2bEJUZl2-g,3655
+chess_to_the_death/util/config.py,sha256=i46cG_Qks33Rr44ldXauyiCmJraakGcsJRYjku3HFh0,3531
 chess_to_the_death/util/definition.py,sha256=IbAFRGXjRgWyCL7puXhvcWZFmr3xFLHrOMNMdJNGSCA,1382
-chess_to_the_death/util/engine.py,sha256=wSt-uIifiSvmANpbkOEctrKbyJ2OKbMrJfVKkQ13WqQ,30817
+chess_to_the_death/util/engine.py,sha256=iOf52pHY0M6vfsmaSplD9jIJ1UCbKwRYZtygDqxrMhk,31823
 chess_to_the_death/util/fpsClock.py,sha256=mje1vMun6ClgErcaLbfjyMVSs-FAJqGv7A9QjOn_LXY,467
-chess_to_the_death/util/gui.py,sha256=e7-G5Eg-nugd5yBf7hqMa9X-eF8GjEu-VN0-jY3PAaE,37495
+chess_to_the_death/util/gui.py,sha256=vGhrOiIIQw8zEEe8U348Dl01OcHyRB__GzWhKglqzAk,37550
 chess_to_the_death/util/loader.py,sha256=TFrq59jM3rAh8NE2_ZHQ6i4nNqQp7YStOahN4GdjQ2c,912
-chess_to_the_death/web/UpdateChecker.py,sha256=RWG8CvZ1PcVo5UoIhS6pPdldJ22_wc5EVa3EkTfH5o4,3517
+chess_to_the_death/web/UpdateChecker.py,sha256=jG5ZlxktSAF-RoxKHNimPcxkMbosZleFKDU-olc4Z-g,3598
 chess_to_the_death/web/__init__.py,sha256=47DEQpj8HBSa-_TImW-5JCeuQeRkm5NMpJWZG3hSuFU,0
-chesstothedeath-0.1.0.dist-info/LICENSE,sha256=NAVv5tZNRy959OCN6_-HDSJxJAU98noU00J6PBDJX14,1090
-chesstothedeath-0.1.0.dist-info/WHEEL,sha256=rSgq_JpHF9fHR1lx53qwg_1-2LypZE_qmcuXbVUq948,81
-chesstothedeath-0.1.0.dist-info/METADATA,sha256=6GZmsTqtIZKtY0SKYh8-6QyRnHaGtE5nX4zAmfFV8PY,6639
-chesstothedeath-0.1.0.dist-info/RECORD,,
+chesstothedeath-0.1.1.dist-info/LICENSE,sha256=NAVv5tZNRy959OCN6_-HDSJxJAU98noU00J6PBDJX14,1090
+chesstothedeath-0.1.1.dist-info/WHEEL,sha256=rSgq_JpHF9fHR1lx53qwg_1-2LypZE_qmcuXbVUq948,81
+chesstothedeath-0.1.1.dist-info/METADATA,sha256=HQI6PD-wxMe77LWu7SlNmweVyq_ykAFHqn8FFlV5wDY,6607
+chesstothedeath-0.1.1.dist-info/RECORD,,
```

