# Comparing `tmp/nonebot_plugin_gshisbanner-0.4.3.tar.gz` & `tmp/nonebot_plugin_gshisbanner-0.4.5.tar.gz`

## filetype from file(1)

```diff
@@ -1 +1 @@
-gzip compressed data, was "nonebot_plugin_gshisbanner-0.4.3.tar", max compression
+gzip compressed data, was "nonebot_plugin_gshisbanner-0.4.5.tar", max compression
```

## Comparing `nonebot_plugin_gshisbanner-0.4.3.tar` & `nonebot_plugin_gshisbanner-0.4.5.tar`

### file list

```diff
@@ -1,12 +1,12 @@
--rw-r--r--   0        0        0     1067 2023-04-08 16:03:18.062226 nonebot_plugin_gshisbanner-0.4.3/LICENSE
--rw-r--r--   0        0        0     4279 2023-04-08 16:03:18.062226 nonebot_plugin_gshisbanner-0.4.3/README.md
--rw-r--r--   0        0        0      241 2023-04-08 16:03:18.062226 nonebot_plugin_gshisbanner-0.4.3/nonebot_plugin_gshisbanner/__init__.py
--rw-r--r--   0        0        0     1030 2023-04-08 16:03:18.062226 nonebot_plugin_gshisbanner-0.4.3/nonebot_plugin_gshisbanner/alias.py
--rw-r--r--   0        0        0      406 2023-04-08 16:03:18.062226 nonebot_plugin_gshisbanner-0.4.3/nonebot_plugin_gshisbanner/api.py
--rw-r--r--   0        0        0      287 2023-04-08 16:03:18.062226 nonebot_plugin_gshisbanner-0.4.3/nonebot_plugin_gshisbanner/config.py
--rw-r--r--   0        0        0     3668 2023-04-08 16:03:18.062226 nonebot_plugin_gshisbanner-0.4.3/nonebot_plugin_gshisbanner/deal.py
--rw-r--r--   0        0        0     1182 2023-04-08 16:03:18.062226 nonebot_plugin_gshisbanner-0.4.3/nonebot_plugin_gshisbanner/deal_json.py
--rw-r--r--   0        0        0     4498 2023-04-08 16:03:18.062226 nonebot_plugin_gshisbanner-0.4.3/nonebot_plugin_gshisbanner/main.py
--rw-r--r--   0        0        0     3930 2023-04-08 16:03:18.062226 nonebot_plugin_gshisbanner-0.4.3/nonebot_plugin_gshisbanner/send.py
--rw-r--r--   0        0        0      576 2023-04-08 16:03:18.062226 nonebot_plugin_gshisbanner-0.4.3/pyproject.toml
--rw-r--r--   0        0        0     4922 1970-01-01 00:00:00.000000 nonebot_plugin_gshisbanner-0.4.3/PKG-INFO
+-rw-r--r--   0        0        0     1067 2023-04-09 02:36:04.925944 nonebot_plugin_gshisbanner-0.4.5/LICENSE
+-rw-r--r--   0        0        0     4279 2023-04-09 02:36:04.925944 nonebot_plugin_gshisbanner-0.4.5/README.md
+-rw-r--r--   0        0        0      241 2023-04-09 02:36:04.925944 nonebot_plugin_gshisbanner-0.4.5/nonebot_plugin_gshisbanner/__init__.py
+-rw-r--r--   0        0        0     1030 2023-04-09 02:36:04.925944 nonebot_plugin_gshisbanner-0.4.5/nonebot_plugin_gshisbanner/alias.py
+-rw-r--r--   0        0        0      406 2023-04-09 02:36:04.925944 nonebot_plugin_gshisbanner-0.4.5/nonebot_plugin_gshisbanner/api.py
+-rw-r--r--   0        0        0      287 2023-04-09 02:36:04.925944 nonebot_plugin_gshisbanner-0.4.5/nonebot_plugin_gshisbanner/config.py
+-rw-r--r--   0        0        0     3668 2023-04-09 02:36:04.925944 nonebot_plugin_gshisbanner-0.4.5/nonebot_plugin_gshisbanner/deal.py
+-rw-r--r--   0        0        0     1182 2023-04-09 02:36:04.925944 nonebot_plugin_gshisbanner-0.4.5/nonebot_plugin_gshisbanner/deal_json.py
+-rw-r--r--   0        0        0     4506 2023-04-09 02:36:04.925944 nonebot_plugin_gshisbanner-0.4.5/nonebot_plugin_gshisbanner/main.py
+-rw-r--r--   0        0        0     3598 2023-04-09 02:36:04.925944 nonebot_plugin_gshisbanner-0.4.5/nonebot_plugin_gshisbanner/send.py
+-rw-r--r--   0        0        0      576 2023-04-09 02:36:04.929944 nonebot_plugin_gshisbanner-0.4.5/pyproject.toml
+-rw-r--r--   0        0        0     4922 1970-01-01 00:00:00.000000 nonebot_plugin_gshisbanner-0.4.5/PKG-INFO
```

### Comparing `nonebot_plugin_gshisbanner-0.4.3/LICENSE` & `nonebot_plugin_gshisbanner-0.4.5/LICENSE`

 * *Files identical despite different names*

### Comparing `nonebot_plugin_gshisbanner-0.4.3/README.md` & `nonebot_plugin_gshisbanner-0.4.5/README.md`

 * *Files identical despite different names*

### Comparing `nonebot_plugin_gshisbanner-0.4.3/nonebot_plugin_gshisbanner/alias.py` & `nonebot_plugin_gshisbanner-0.4.5/nonebot_plugin_gshisbanner/alias.py`

 * *Files identical despite different names*

### Comparing `nonebot_plugin_gshisbanner-0.4.3/nonebot_plugin_gshisbanner/deal.py` & `nonebot_plugin_gshisbanner-0.4.5/nonebot_plugin_gshisbanner/deal.py`

 * *Files identical despite different names*

### Comparing `nonebot_plugin_gshisbanner-0.4.3/nonebot_plugin_gshisbanner/deal_json.py` & `nonebot_plugin_gshisbanner-0.4.5/nonebot_plugin_gshisbanner/deal_json.py`

 * *Files identical despite different names*

### Comparing `nonebot_plugin_gshisbanner-0.4.3/nonebot_plugin_gshisbanner/main.py` & `nonebot_plugin_gshisbanner-0.4.5/nonebot_plugin_gshisbanner/main.py`

 * *Files 2% similar despite different names*

```diff
@@ -78,17 +78,17 @@
         if regex_dict["upordown"]
         else regex_dict["version"]
     )
     # 根据版本获取up信息
     info = await deal_info_from_version(
         real_version, False if regex_dict["upordown"] else True
     )
-    if info is not None:
+    if info:
         await word_send_from_version(bot, event, real_version, info)
-    await version_gacha.finish()
+    await version_gacha.finish("该版本不存在")
 
 
 @refresh.handle()
 async def _(
     event: MessageEvent,
     regex_dict: dict = RegexDict(),
 ):
```

### Comparing `nonebot_plugin_gshisbanner-0.4.3/nonebot_plugin_gshisbanner/send.py` & `nonebot_plugin_gshisbanner-0.4.5/nonebot_plugin_gshisbanner/send.py`

 * *Files 23% similar despite different names*

```diff
@@ -28,24 +28,16 @@
     for i in range(0, len(info), length):
         msg = msg1.copy() if i == 0 else []
         # 循环每个卡池，判断是否与用户输入的名称相同
         for j in info[i: i + length]:
             start = datetime.strptime(j["start"], "%Y-%m-%d %H:%M:%S").date()
             end = datetime.strptime(j["end"], "%Y-%m-%d %H:%M:%S").date()
             version = "{}.{}  卡池{}".format(*j["version"].split("."))
-            banner_five = (
-                " ".join(j["five_character"])
-                if j.get("five_character")
-                else " ".join(j["five_weapon"])
-            )
-            banner_four = (
-                " ".join(j["four_character"])
-                if j.get("four_character")
-                else " ".join(j["four_weapon"])
-            )
+            banner_five = " ".join(j.get("five_character", j.get("five_weapon", [])))
+            banner_four = " ".join(j.get("four_character", j.get("four_weapon", [])))
             msg.append(
                 {
                     "type": "node",
                     "data": {
                         "name": NICKNAME,
                         "uin": event.self_id,
                         "content": f"版本：{version}\n五星：{banner_five}\n四星：{banner_four}\nup时间：\n{start}~~{end}",
@@ -68,24 +60,16 @@
         }
     ]
     # 循环每个卡池，判断是否与用户输入的版本号相同
     for j in info:
         start = datetime.strptime(j["start"], "%Y-%m-%d %H:%M:%S").date()
         end = datetime.strptime(j["end"], "%Y-%m-%d %H:%M:%S").date()
         version = "{}.{}  卡池{}".format(*j["version"].split("."))
-        banner_five = (
-            " ".join(j["five_character"])
-            if j["five_character"]
-            else " ".join(j["five_weapon"])
-        )
-        banner_four = (
-            " ".join(j["four_character"])
-            if j["four_character"]
-            else " ".join(j["four_weapon"])
-        )
+        banner_five = " ".join(j.get("five_character", j.get("five_weapon", [])))
+        banner_four = " ".join(j.get("four_character", j.get("four_weapon", [])))
         msg1.append(
             {
                 "type": "node",
                 "data": {
                     "name": NICKNAME,
                     "uin": event.self_id,
                     "content": f"版本：{version}\n五星：{banner_five}\n四星：{banner_four}\nup时间：\n{start}~~{end}",
```

### Comparing `nonebot_plugin_gshisbanner-0.4.3/pyproject.toml` & `nonebot_plugin_gshisbanner-0.4.5/pyproject.toml`

 * *Files 20% similar despite different names*

```diff
@@ -1,10 +1,10 @@
 [tool.poetry]
 name = "nonebot-plugin-gshisbanner"
-version = "0.4.3"
+version = "0.4.5"
 description = "Nonebot2查询原神历史卡池小插件"
 authors = ["forchannot <yy320206@gmail.com>"]
 license = "MIT"
 readme = "README.md"
 packages = [{include = "nonebot_plugin_gshisbanner"}]
 
 [[tool.poetry.source]]
```

### Comparing `nonebot_plugin_gshisbanner-0.4.3/PKG-INFO` & `nonebot_plugin_gshisbanner-0.4.5/PKG-INFO`

 * *Files 0% similar despite different names*

```diff
@@ -1,10 +1,10 @@
 Metadata-Version: 2.1
 Name: nonebot-plugin-gshisbanner
-Version: 0.4.3
+Version: 0.4.5
 Summary: Nonebot2查询原神历史卡池小插件
 License: MIT
 Author: forchannot
 Author-email: yy320206@gmail.com
 Requires-Python: >=3.9,<4.0
 Classifier: License :: OSI Approved :: MIT License
 Classifier: Programming Language :: Python :: 3
```

#### html2text {}

```diff
@@ -1,8 +1,8 @@
-Metadata-Version: 2.1 Name: nonebot-plugin-gshisbanner Version: 0.4.3 Summary:
+Metadata-Version: 2.1 Name: nonebot-plugin-gshisbanner Version: 0.4.5 Summary:
 Nonebot2æ¥è¯¢åç¥åå²å¡æ± å°æä»¶ License: MIT Author: forchannot
 Author-email: yy320206@gmail.com Requires-Python: >=3.9,<4.0 Classifier:
 License :: OSI Approved :: MIT License Classifier: Programming Language ::
 Python :: 3 Classifier: Programming Language :: Python :: 3.9 Classifier:
 Programming Language :: Python :: 3.10 Classifier: Programming Language ::
 Python :: 3.11 Requires-Dist: httpx (>=0.20.0,<1.0.0) Requires-Dist: nonebot-
 adapter-onebot (>=2.1,<3.0) Requires-Dist: nonebot2 (>=2.0.0-rc.2,<3.0.0)
```

